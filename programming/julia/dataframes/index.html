<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin=anonymous > <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> <script src="/bidss/libs/lunr/lunr.min.js"></script> <script src="/bidss/libs/lunr/lunr_index.js"></script> <script src="/bidss/libs/lunr/lunrclient.min.js"></script> <link rel=stylesheet  href="/bidss/libs/font-awesome/css/font-awesome.min.css"> <link rel=stylesheet  href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin=anonymous > <link rel=stylesheet  href="/bidss/libs/highlight/github.min.css"> <link rel=stylesheet  href="/bidss/css/jtd.css"> <link rel=icon  href="/bidss/assets/favicon.ico"> <title>DataFrames</title> <header> <a class=skip_main  href="#main">Skip to main content</a> <nav class="navbar navbar-expand-lg navbar-light nav-main"> <!-- <button class="navbar-toggler custom-toggler" type=button  data-toggle=collapse  data-target="#navbarContents" aria-expanded=false  aria-label="Toggle navigation"> <span class=navbar-toggler-icon ></span> </button> --> <div class=logo-box > <a href="/bidss/"><img class=img-logo  src="/bidss/assets/bidss_logo_white.png" alt = "BIDSS"></a> </div> <div class=nav-middleitems-wrapper > <div class=nav-middleitems-header > <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >Home</span> </a> </div> --> <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >Getting Started</span> </a> </div> --> <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >Documentation</span> </a> </div> --> <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >GitHub</span> </a> </div> --> </div> </div> <div class=searchbox-wrapper > <form id=lunrSearchForm  name=lunrSearchForm > <button class="fa fa-search search-icon" aria-hidden=true  formaction="/bidss/search/index.html"></button> <input class=search-input  name=q  placeholder=Search...  type=text > </form> </div> </nav> </header> <div class=page-wrap > <div class=sidenav > <div class=sidenav-wrap > <ul class=menu-list > <li class=menu-list-item ><a href="/bidss/home" class="menu-list-link "><b>Home</b> </a> <li class=menu-list-item ><a href="/bidss/about" class="menu-list-link "><b>About</b> </a> <div class=section-title >Theory</div> <li class="menu-list-item "><a href="/bidss/theory/biomedical_informatics/" class="menu-list-link "><b>1.1</b> Biomedical Informatics</a> <ul class=menu-list > <li class="menu-list-item "><a href="/bidss/theory/health_data/" class="menu-list-link "><b>1.2</b> Health Data</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="/bidss/theory/ehr/" class="menu-list-link "><b>1.2.1</b> Electronic Health Records</a> </ul> </ul> <li class="menu-list-item "><a href="/bidss/theory/standards/" class="menu-list-link "><b>1.3</b> Standards</a> <li class="menu-list-item "><a href="/bidss/theory/interoperability/" class="menu-list-link "><b>1.4</b> Interoperability </a> <li class="menu-list-item "><a href="/bidss/theory/research_process/" class="menu-list-link "><b>1.5</b> Research Process</a> <li class="menu-list-item "><a href="/bidss/theory/software_engineering/" class="menu-list-link "><b>1.6</b> Software Engineering</a> <li class="menu-list-item "><a href="/bidss/theory/information_retrieval/" class="menu-list-link "><b>1.7</b> Information Retrieval</a> <li class="menu-list-item "><a href="/bidss/theory/analytic_pipelines/" class="menu-list-link "><b>1.8</b> Analytic Pipelines</a> <ul class=menu-list > <li class="menu-list-item "><a href="/bidss/theory/ai/" class="menu-list-link "><b>1.9</b> Artificial Intelligence</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="/bidss/theory/ml/" class="menu-list-link "><b>1.9.1</b> Machine Learning</a> <li class="menu-list-item "><a href="/bidss/theory/nlp/" class="menu-list-link "><b>1.9.2</b> Natural Language Processing</a> </ul> </ul> <li class="menu-list-item "><a href="/bidss/theory/cds/" class="menu-list-link "><b>1.10</b> Clinical Decision Support</a> <li class="menu-list-item "><a href="/bidss/theory/lhs/" class="menu-list-link "><b>1.11</b> Learning Health System</a> <div class=section-title >Infrastructure</div> <li class="menu-list-item "><a href="/bidss/infrastructure/setup/intro/" class="menu-list-link "><b>2</b> Setup</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/intro/" class="menu-list-link "><b>2.1</b> Overview</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/oscar/" class="menu-list-link "><b>2.2</b> Oscar</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/wsl/" class="menu-list-link "><b>2.3</b> Linux for Windows</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/julia/" class="menu-list-link "><b>2.4</b> Julia</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/r/" class="menu-list-link "><b>2.5</b> R</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/vscode/" class="menu-list-link "><b>2.6</b> VS Code</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/filezilla/" class="menu-list-link "><b>2.7</b> FileZilla</a> </ul> <li class="menu-list-item "><a href="/bidss/infrastructure/data/datasets/" class="menu-list-link "><b>3</b> Data</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/infrastructure/data/datasets/" class="menu-list-link "><b>3.1</b> Getting Started with Databases</a> </ul> <div class=section-title >Programming</div> <li class="menu-list-item "><a href="/bidss/programming/unix/intro/" class="menu-list-link "><b>4</b> Unix</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/unix/intro/" class="menu-list-link "><b>4.1</b> Getting Started with Unix</a> <li class=menu-list-item ><a href="/bidss/programming/unix/census/" class="menu-list-link "><b>4.2</b> Analyzing the Adult (Census Income) Data Set</a> <li class=menu-list-item ><a href="/bidss/programming/unix/mimic/" class="menu-list-link "><b>4.3</b> Analyzing the MIMIC-III Demo Data Set</a> </ul> <li class="menu-list-item "><a href="/bidss/programming/sql/intro/" class="menu-list-link "><b>5</b> SQL</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/sql/intro/" class="menu-list-link "><b>4.1</b> Getting Started with SQL</a> </ul> <li class="menu-list-item active"><a href="/bidss/programming/julia/intro/" class="menu-list-link active"><b>6</b> Julia</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/julia/intro/" class="menu-list-link "><b>6.1</b> Getting Started with Scientific Computing</a> <li class=menu-list-item ><a href="/bidss/programming/julia/numbers/" class="menu-list-link "><b>6.2</b> Numbers and Math</a> <li class=menu-list-item ><a href="/bidss/programming/julia/strings/" class="menu-list-link "><b>6.3</b> Strings, Characters, and Regular Expressions</a> <li class=menu-list-item ><a href="/bidss/programming/julia/control/" class="menu-list-link "><b>6.4</b> Control Flow</a> <li class=menu-list-item ><a href="/bidss/programming/julia/collections/" class="menu-list-link "><b>6.5</b> Collections and Data Structures</a> <li class=menu-list-item ><a href="/bidss/programming/julia/io/" class="menu-list-link "><b>6.6</b> File Input/Output</a> <li class=menu-list-item ><a href="/bidss/programming/julia/repl/" class="menu-list-link "><b>6.7</b> REPL and Packages</a> <li class=menu-list-item ><a href="/bidss/programming/julia/dataframes/" class="menu-list-link active"><b>6.8</b> DataFrames</a> <li class=menu-list-item ><a href="/bidss/programming/julia/stats/" class="menu-list-link "><b>6.9</b> Statistics and Machine Learning</a> <li class=menu-list-item ><a href="/bidss/programming/julia/stats-2/" class="menu-list-link "><b>6.9.1</b> Stats/ML (Extra Resources)</a> <li class=menu-list-item ><a href="/bidss/programming/julia/viz/" class="menu-list-link "><b>6.10</b> Plotting and Visualization</a> <li class=menu-list-item ><a href="/bidss/programming/julia/R/" class="menu-list-link "><b>6.11</b> Intro to R</a> <li class=menu-list-item ><a href="/bidss/programming/julia/python/" class="menu-list-link "><b>6.12</b> Intro to Python</a> </ul> <li class="menu-list-item "><a href="/bidss/programming/python/intro/" class="menu-list-link "><b>7</b> Python</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/python/intro/" class="menu-list-link "><b>7.1</b> Intro to Python</a> </ul> <li class="menu-list-item "><a href="/bidss/programming/r/intro/" class="menu-list-link "><b>8</b> R</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/r/intro/" class="menu-list-link "><b>8.1</b> Intro to R</a> </ul> <div class=section-title >Analytic Pipelines</div> <li class="menu-list-item "><a href="/bidss/analytic_pipelines/intro/" class="menu-list-link "><b>9.1</b> Introduction</a> <li class="menu-list-item "><a href="/bidss/analytic_pipelines/study_1/" class="menu-list-link "><b>9.2</b> Study 1</a> <div class=section-title >Course Outlines</div> <li class="menu-list-item "><a href="/bidss/courses/intro/" class="menu-list-link "><b>10</b> Course Materials</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/courses/methods_course" class="menu-list-link "><b>10.1</b> BIOL155/PHP 2561</a> <li class=menu-list-item ><a href="/bidss/courses/biol6535" class="menu-list-link "><b>10.2</b> BIOL 6535</a> <li class=menu-list-item ><a href="/bidss/courses/n3c_course" class="menu-list-link "><b>10.3</b> N3C Short Course</a> <li class=menu-list-item ><a href="/bidss/courses/4day" class="menu-list-link "><b>10.4</b> Four-Day Short Course</a> </ul> </ul> </div> <div class=footer > <a href = "https://www.brown.edu/academics/medical/about-us/research/centers-institutes-and-programs/biomedical-informatics/" target=_blank > <img src="/bidss/assets/bcbi_logo.png" alt = "Brown Center for Biomedical Informatics" class=bcbi-logo > </a> </div> </div> <div class=main > <div class=franklin-content ><h1 id=68_dataframes ><a href="#68_dataframes" class=header-anchor >6.8 DataFrames</a></h1> <div class=franklin-toc ><ol><li><a href="#documentation">Documentation</a><li><a href="#theory">Theory</a><li><a href="#practice">Practice</a></ol></div> <h2 id=documentation ><a href="#documentation" class=header-anchor >Documentation</a></h2> <ul> <li><p> <a href="https://juliadata.github.io/CSV.jl/stable/" target=_blank >CSV.jl</a> </p> <li><p> <a href="https://juliadata.github.io/DataFrames.jl/stable/man/getting_started.html" target=_blank >DataFrames.jl</a> </p> <li><p> <a href="https://en.wikibooks.org/wiki/Introducing_Julia/DataFrames" target=_blank >Introducing Julia Wikibook: DataFrames</a> </p> <li><p> <a href="https://jcharistech.wordpress.com/julia-dataframes-cheat-sheets/" target=_blank >Julia DataFrames Cheat Sheets</a> </p> </ul> <h2 id=theory ><a href="#theory" class=header-anchor >Theory</a></h2> <h2 id=practice ><a href="#practice" class=header-anchor >Practice</a></h2> <p><strong>Install and Load DataFrames.jl Package</strong></p> <pre><code class=language-julia >using Pkg

# Add DataFrames package
Pkg.add&#40;&quot;DataFrames&quot;&#41;

# Load paackages
using DataFrames</code></pre> <p><strong>Create Dataframe</strong></p> <pre><code class=language-julia ># Create dataframe
df &#61; DataFrame&#40;id &#61; 1:5, gender &#61; &#91;&quot;F&quot;, &quot;M&quot;, &quot;F&quot;, &quot;M&quot;, &quot;F&quot;&#93;, age &#61; &#91;68, 54, 49, 28, 36&#93;&#41;</code></pre> <p><strong>Display Dataframe</strong></p> <p>Input:</p> <pre><code class=language-julia ># display dataframe
println&#40;df&#41;</code></pre> <p>Output: <pre><code class="plaintext code-output">5×3 DataFrame
 Row │ id     gender  age
     │ Int64  String  Int64
─────┼──────────────────────
   1 │     1  F          68
   2 │     2  M          54
   3 │     3  F          49
   4 │     4  M          28
   5 │     5  F          36
</code></pre></p> <p>First two lines of dataframe:</p> <p>Input:</p> <pre><code class=language-julia >println&#40;first&#40;df, 2&#41;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">2×3 DataFrame
 Row │ id     gender  age
     │ Int64  String  Int64
─────┼──────────────────────
   1 │     1  F          68
   2 │     2  M          54
</code></pre>
<p>Last two lines of dataframe:</p>
<p>Input:</p>
<pre><code class=language-julia >println&#40;last&#40;df, 2&#41;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">2×3 DataFrame
 Row │ id     gender  age
     │ Int64  String  Int64
─────┼──────────────────────
   1 │     4  M          28
   2 │     5  F          36
</code></pre>
<p><strong>Describe Dataframe</strong></p>
<p>Dataframe size:</p>
<p>Input: </p>
<pre><code class=language-julia ># dataframe size
println&#40;size&#40;df&#41;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">(5, 3)
</code></pre>
<p>Dataframe column names:</p>
<p>Input:</p>
<pre><code class=language-julia ># dataframe column names
println&#40;names&#40;df&#41;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">["id", "gender", "age"]
</code></pre>
<p>Dataframe description:</p>
<p>Input:</p>
<pre><code class=language-julia ># describe dataframe
println&#40;describe&#40;df&#41;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">3×7 DataFrame
 Row │ variable  mean    min  median  max  nmissing  eltype
     │ Symbol    Union…  Any  Union…  Any  Int64     DataType
─────┼────────────────────────────────────────────────────────
   1 │ id        3.0     1    3.0     5           0  Int64
   2 │ gender            F            M           0  String
   3 │ age       47.0    28   49.0    68          0  Int64
</code></pre>
<p><strong>Accessing DataFrames</strong></p>
<p><strong><em>Get &quot;age&quot; column &#40;different ways to call the column&#41;</em></strong></p>
<p>Input:</p>
<pre><code class=language-julia ># call by column name
println&#40;df&#91;&#33;, :age&#93;&#41;

# get column by column number
println&#40;df&#91;&#33;, 3&#93;&#41;

# alternate syntax
println&#40;df.age&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">[68, 54, 49, 28, 36]
[68, 54, 49, 28, 36]
[68, 54, 49, 28, 36]
</code></pre>
<p><strong><em>Get row</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># print row 2
println&#40;df&#91;2, :&#93;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">DataFrameRow
 Row │ id     gender  age
     │ Int64  String  Int64
─────┼──────────────────────
   2 │     2  M          54
</code></pre>
<p><strong><em>Get element</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># get element in row 2, column 3
println&#40;df&#91;2,3&#93;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">54
</code></pre>
<p><strong><em>Get subset &#40;specific rows and all columns&#41;</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># print out rows 1, 3, &amp; 5
println&#40;df&#91;&#91;1,3,5&#93;, :&#93;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">3×3 DataFrame
 Row │ id     gender  age
     │ Int64  String  Int64
─────┼──────────────────────
   1 │     1  F          68
   2 │     3  F          49
   3 │     5  F          36
</code></pre>
<p><strong><em>Get subset &#40;all rows and specific columns&#41;</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># print out all rows and only columns 1 &#40;id&#41; and 3 &#40;age&#41;
println&#40;&quot;Using column names:\n&quot;&#41;
println&#40;df&#91;:, &#91;:id, :age&#93;&#93;&#41;
println&#40;&#41;

println&#40;&quot;Using column numbers:\n&quot;&#41;
println&#40;df&#91;:, &#91;1,3&#93;&#93;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">Using column names:

5×2 DataFrame
 Row │ id     age
     │ Int64  Int64
─────┼──────────────
   1 │     1     68
   2 │     2     54
   3 │     3     49
   4 │     4     28
   5 │     5     36

Using column numbers:

5×2 DataFrame
 Row │ id     age
     │ Int64  Int64
─────┼──────────────
   1 │     1     68
   2 │     2     54
   3 │     3     49
   4 │     4     28
   5 │     5     36
</code></pre>
<p><strong><em>Get subset &#40;all rows meeting specified criteria - numbers&#41;</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># print out all rows where age is greater than 50
println&#40;df&#91;df.age .&gt; 50, :&#93;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">2×3 DataFrame
 Row │ id     gender  age
     │ Int64  String  Int64
─────┼──────────────────────
   1 │     1  F          68
   2 │     2  M          54
</code></pre>
<p><strong><em>Get subset &#40;all rows meeting specified criteria - strings&#41;</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># print out all rows where gender is female &#40;&quot;F&quot;&#41;
println&#40;df&#91;df.gender .&#61;&#61; &quot;F&quot;, :&#93;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">3×3 DataFrame
 Row │ id     gender  age
     │ Int64  String  Int64
─────┼──────────────────────
   1 │     1  F          68
   2 │     3  F          49
   3 │     5  F          36
</code></pre>
<p><strong><em>Get subset &#40;all rows meeting specified criteria&#41;</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># print out all rows where gender is female &#40;&quot;F&quot;&#41; and age is between 25-50
println&#40;df&#91;&#40;df.gender .&#61;&#61; &quot;F&quot;&#41; .&amp; &#40;25 .&lt; df.age .&lt; 50&#41;, :&#93;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">2×3 DataFrame
 Row │ id     gender  age
     │ Int64  String  Int64
─────┼──────────────────────
   1 │     3  F          49
   2 │     5  F          36
</code></pre>
<p><strong>Add Column</strong></p>
<p><strong><em>New columns with specified values</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># add a column for weight
df.weight &#61; &#91;100, 120, 150, 175, 300&#93;

# add a column for height
df.height &#61; &#91;62, 60, 61, 63, 64&#93;

println&#40;df&#41;
println&#40;&#41;

println&#40;&quot;Describe dataframe to see column names and summary:\n&quot;&#41;
println&#40;describe&#40;df&#41;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">5×5 DataFrame
 Row │ id     gender  age    weight  height
     │ Int64  String  Int64  Int64   Int64
─────┼──────────────────────────────────────
   1 │     1  F          68     100      62
   2 │     2  M          54     120      60
   3 │     3  F          49     150      61
   4 │     4  M          28     175      63
   5 │     5  F          36     300      64

Describe dataframe to see column names and summary:

5×7 DataFrame
 Row │ variable  mean    min  median  max  nmissing  eltype
     │ Symbol    Union…  Any  Union…  Any  Int64     DataType
─────┼────────────────────────────────────────────────────────
   1 │ id        3.0     1    3.0     5           0  Int64
   2 │ gender            F            M           0  String
   3 │ age       47.0    28   49.0    68          0  Int64
   4 │ weight    169.0   100  150.0   300         0  Int64
   5 │ height    62.0    60   62.0    64          0  Int64
</code></pre>
<p><strong><em>New column with calculated value</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># add a column with calculated BMI
df.bmi &#61; map&#40;&#40;x,y&#41; -&gt; &#40;x/y^2&#41;*703, df.weight, df.height&#41;

println&#40;df&#41;
println&#40;&#41;

println&#40;&quot;Describe dataframe to see new bmi column and summary:\n&quot;&#41;
println&#40;describe&#40;df&#41;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">5×6 DataFrame
 Row │ id     gender  age    weight  height  bmi
     │ Int64  String  Int64  Int64   Int64   Float64
─────┼───────────────────────────────────────────────
   1 │     1  F          68     100      62  18.2882
   2 │     2  M          54     120      60  23.4333
   3 │     3  F          49     150      61  28.3392
   4 │     4  M          28     175      63  30.9965
   5 │     5  F          36     300      64  51.4893

Describe dataframe to see new bmi column and summary:

6×7 DataFrame
 Row │ variable  mean     min      median   max      nmissing  eltype
     │ Symbol    Union…   Any      Union…   Any      Int64     DataType
─────┼──────────────────────────────────────────────────────────────────
   1 │ id        3.0      1        3.0      5               0  Int64
   2 │ gender             F                 M               0  String
   3 │ age       47.0     28       49.0     68              0  Int64
   4 │ weight    169.0    100      150.0    300             0  Int64
   5 │ height    62.0     60       62.0     64              0  Int64
   6 │ bmi       30.5093  18.2882  28.3392  51.4893         0  Float64
</code></pre>
<p><strong><em>Get counts/frequency</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># get counts of males and females in the dataframe
println&#40;by&#40;df, :gender, N &#61; :gender &#61;&gt; length&#41;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">ArgumentError: by function was removed from DataFrames.jl. Use the `combine(groupby(...), ...)` or `combine(f, groupby(...))` instead.
</code></pre>
<p><strong>Transform DataFrame</strong></p>
<p><strong><em>sort</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># sort the dataframe by gender and then age in reverse order for age &#40;oldest to youngest&#41;
println&#40;sort&#40;df, &#91;:gender, :age&#93;, rev&#61;&#40;false, true&#41;&#41;&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">TypeError: in keyword argument rev, expected Union{Bool, AbstractArray{Bool,1}}, got Tuple{Bool,Bool}
</code></pre>
<p><strong><em>stack &#40;reshape from wide to long format&#41;</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># Reshape from wide to long format &#40;disclude id to see which column and value matches which patient id&#41;
long_df &#61; stack&#40;df, Not&#40;:id&#41;&#41;
println&#40;long_df&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">25×3 DataFrame
 Row │ id     variable  value
     │ Int64  String    Any
─────┼──────────────────────────
   1 │     1  gender    F
   2 │     2  gender    M
   3 │     3  gender    F
   4 │     4  gender    M
   5 │     5  gender    F
   6 │     1  age       68
   7 │     2  age       54
   8 │     3  age       49
   9 │     4  age       28
  10 │     5  age       36
  11 │     1  weight    100
  12 │     2  weight    120
  13 │     3  weight    150
  14 │     4  weight    175
  15 │     5  weight    300
  16 │     1  height    62
  17 │     2  height    60
  18 │     3  height    61
  19 │     4  height    63
  20 │     5  height    64
  21 │     1  bmi       18.2882
  22 │     2  bmi       23.4333
  23 │     3  bmi       28.3392
  24 │     4  bmi       30.9965
  25 │     5  bmi       51.4893
</code></pre>
<p><strong><em>unstack &#40;reshape from long to wide format&#41;</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia >#unstack dataframe to get back to wide format based off &quot;id&quot; &#40;unstack&#40;df, :id, :variable, :value&#41;&#41;
wide_df &#61; unstack&#40;long_df, :id, :variable, :value&#41;
println&#40;wide_df&#41;</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">5×6 DataFrame
 Row │ id     gender  age  weight  height  bmi
     │ Int64  Any     Any  Any     Any     Any
─────┼─────────────────────────────────────────────
   1 │     1  F       68   100     62      18.2882
   2 │     2  M       54   120     60      23.4333
   3 │     3  F       49   150     61      28.3392
   4 │     4  M       28   175     63      30.9965
   5 │     5  F       36   300     64      51.4893
</code></pre>
<p><strong>Traversing DataFrame &#40;for loops&#41;</strong></p>
<p><strong><em>sort</em></strong></p>
<p>Input: </p>
<pre><code class=language-julia ># size of dataframe &#61; size&#40;df&#41;
# set number of rows to nrows and number of columns to ncols
println&#40;&quot;&#40;nrows, ncols&#41; &#61; &#36;&#40;size&#40;df&#41;&#41;&quot;&#41;
nrows, ncols &#61; size&#40;df&#41;

# use nested for loop to get information from dataframe by row and column
for row in 1:nrows
  for col in 1:ncols
	println&#40;&quot;value for row &#36;row and col &#36;col is &#36;&#40;df&#91;row,col&#93;&#41;&quot;&#41;
  end
end</code></pre>
<p>Output:</p>
<pre><code class="plaintext code-output">(nrows, ncols) = (5, 6)
value for row 1 and col 1 is 1
value for row 1 and col 2 is F
value for row 1 and col 3 is 68
value for row 1 and col 4 is 100
value for row 1 and col 5 is 62
value for row 1 and col 6 is 18.28824141519251
value for row 2 and col 1 is 2
value for row 2 and col 2 is M
value for row 2 and col 3 is 54
value for row 2 and col 4 is 120
value for row 2 and col 5 is 60
value for row 2 and col 6 is 23.433333333333334
value for row 3 and col 1 is 3
value for row 3 and col 2 is F
value for row 3 and col 3 is 49
value for row 3 and col 4 is 150
value for row 3 and col 5 is 61
value for row 3 and col 6 is 28.339156140822357
value for row 4 and col 1 is 4
value for row 4 and col 2 is M
value for row 4 and col 3 is 28
value for row 4 and col 4 is 175
value for row 4 and col 5 is 63
value for row 4 and col 6 is 30.99647266313933
value for row 5 and col 1 is 5
value for row 5 and col 2 is F
value for row 5 and col 3 is 36
value for row 5 and col 4 is 300
value for row 5 and col 5 is 64
value for row 5 and col 6 is 51.4892578125
</code></pre>
<div class=page-foot >
  <div class=copyright >
    <small>
      &copy; <a href="https://github.com/bcbi">Brown Center for Biomedical Informatics (BCBI) at Brown University</a>. Last updated: January 31, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>. Powered by the <a href="https://julialang.org">Julia programming language</a>.
    </small>
  </div>
</div>
</div>
    </div> 
    </div> <!-- end of class page-wrap-->
    
    
      <script src="/bidss/libs/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>

    
  



<script>
$(window).scroll(function() {
  var scrollTop = $(window).scrollTop();
  if (scrollTop <= 80)
      $('.sidenav').css('top', 80 - scrollTop);
  else
      $('.sidenav').css('top', 0);
});
</script>