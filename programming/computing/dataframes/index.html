<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin=anonymous > <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> <link rel=stylesheet  href="/bidss/libs/highlight/github.min.css"> <link rel=stylesheet  href="/bidss/css/jtd.css"> <link rel=icon  href="/bidss/assets/favicon.ico"> <title>DataFrames</title> <header> <a class=skip_main  href="#main">Skip to main content</a> <nav class="navbar navbar-expand-lg navbar-light nav-main"> <!-- <button class="navbar-toggler custom-toggler" type=button  data-toggle=collapse  data-target="#navbarContents" aria-expanded=false  aria-label="Toggle navigation"> <span class=navbar-toggler-icon ></span> </button> --> <div class=logo-box > <a href="#"><img class=img-logo  src="/bidss/assets/bidss_logo.png" alt = "BIDSS"></a> </div> <div class=nav-middleitems-wrapper > <div class=nav-middleitems-header > <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >Home</span> </a> </div> --> <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >Getting Started</span> </a> </div> --> <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >Documentation</span> </a> </div> --> <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >GitHub</span> </a> </div> --> </div> </div> <div class=searchbox-wrapper > <div class=searchbox-container > <div aria-label="" class=searchbox-input-wrapper > <div class=searchbox-input-inner > <input placeholder=Search...  type=text  class=searchbox-input-box > </div> <div class=searchbox-icon > <svg preserveAspectRatio="xMidYMid meet" height=1em  width=1em  fill=none  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width=2  stroke-linecap=round  stroke-linejoin=round  stroke=currentColor  class=searchbox-iconsvg > <g> <circle cx=10.5  cy=10.5  r=7.5 > </circle> <line x1="21" y1="21" x2="15.8" y2="15.8"></line> </g> </svg> </div> </div> </div> </div> </nav> </header> <div class=page-wrap > <div class=sidenav > <div class=sidenav-wrap > <ul class=menu-list > <li class=menu-list-item ><a href="/bidss/" class="menu-list-link "><b>1</b> Home</a> <div class=section-title >Infrastructure</div> <li class="menu-list-item "><a href="/bidss/programming/setup/intro/" class="menu-list-link "><b>2</b> Setup</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/setup/intro/" class="menu-list-link "><b>2.1</b> Overview</a> <li class=menu-list-item ><a href="/bidss/programming/setup/wsl/" class="menu-list-link "><b>2.2</b> Linux for Windows</a> <li class=menu-list-item ><a href="/bidss/programming/setup/julia/" class="menu-list-link "><b>2.3</b> Julia</a> <li class=menu-list-item ><a href="/bidss/programming/setup/r/" class="menu-list-link "><b>2.4</b> R</a> <li class=menu-list-item ><a href="/bidss/programming/setup/vscode/" class="menu-list-link "><b>2.5</b> VS Code</a> <li class=menu-list-item ><a href="/bidss/programming/setup/filezilla/" class="menu-list-link "><b>2.6</b> FileZilla</a> </ul> <div class=section-title >Programming</div> <li class="menu-list-item "><a href="/bidss/programming/unix/intro/" class="menu-list-link "><b>3</b> Unix</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/unix/intro/" class="menu-list-link "><b>3.1</b> Getting Started with Unix</a> <li class=menu-list-item ><a href="/bidss/programming/unix/census/" class="menu-list-link "><b>3.2</b> Analyzing the Adult (Census Income) Data Set</a> <li class=menu-list-item ><a href="/bidss/programming/unix/mimic/" class="menu-list-link "><b>3.3</b> Analyzing the MIMIC-III Demo Data Set</a> </ul> <li class="menu-list-item "><a href="/bidss/programming/db/mysql/" class="menu-list-link "><b>4</b> Databases</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/db/mysql/" class="menu-list-link "><b>4.1</b> Getting Started with Databases</a> <li class=menu-list-item ><a href="/bidss/programming/db/emrbots/" class="menu-list-link "><b>4.2</b> Querying the EMRbots Database</a> <li class=menu-list-item ><a href="/bidss/programming/db/mimic/" class="menu-list-link "><b>4.3</b> Querying the MIMIC-III Demo Database</a> </ul> <li class="menu-list-item active"><a href="/bidss/programming/computing/intro/" class="menu-list-link active"><b>5</b> Scientific Computing</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/computing/intro/" class="menu-list-link "><b>5.1</b> Getting Started with Scientific Computing</a> <li class=menu-list-item ><a href="/bidss/programming/computing/numbers/" class="menu-list-link "><b>5.2</b> Numbers and Math</a> <li class=menu-list-item ><a href="/bidss/programming/computing/strings/" class="menu-list-link "><b>5.3</b> Strings, Characters, and Regular Expressions</a> <li class=menu-list-item ><a href="/bidss/programming/computing/control/" class="menu-list-link "><b>5.4</b> Control Flow</a> <li class=menu-list-item ><a href="/bidss/programming/computing/collections/" class="menu-list-link "><b>5.5</b> Collections and Data Structures</a> <li class=menu-list-item ><a href="/bidss/programming/computing/io/" class="menu-list-link "><b>5.6</b> File Input/Output</a> <li class=menu-list-item ><a href="/bidss/programming/computing/repl/" class="menu-list-link "><b>5.7</b> REPL and Packages</a> <li class=menu-list-item ><a href="/bidss/programming/computing/dataframes/" class="menu-list-link active"><b>5.8</b> DataFrames</a> <li class=menu-list-item ><a href="/bidss/programming/computing/stats/" class="menu-list-link "><b>5.9</b> Statistics and Machine Learning</a> <li class=menu-list-item ><a href="/bidss/programming/computing/viz/" class="menu-list-link "><b>5.10</b> Plotting and Visualization</a> </ul> <div class=section-title >Informatics Software</div> <div class=section-title >Data Sources</div> <div class=section-title >Electronic Health Records</div> <div class=section-title >Standards</div> <div class=section-title >Informatics Theory</div> <div class=section-title >Course Outlines</div> <li class="menu-list-item "><a href="/bidss/courses/intro/" class="menu-list-link "><b>11</b> Course Materials</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/courses/4day" class="menu-list-link "><b>11.1</b> Four-Day Short Course</a> </ul> </ul> </div> <div class=footer > <a href = "https://www.brown.edu/academics/medical/about-us/research/centers-institutes-and-programs/biomedical-informatics/" target=_blank > <img src="/bidss/assets/bcbi_logo.png" alt = "Brown Center for Biomedical Informatics" class=bcbi-logo > </a> </div> </div> <div class=main > <div class=franklin-content ><h1 id=58_dataframes ><a href="#58_dataframes">5.8 DataFrames</a></h1> <div class=franklin-toc ><ol><li><a href="#documentation">Documentation</a><li><a href="#theory">Theory</a><li><a href="#practice">Practice</a></ol></div> <h2 id=documentation ><a href="#documentation">Documentation</a></h2> <ul> <li><p> <a href="https://juliadata.github.io/CSV.jl/stable/" target=_blank >CSV.jl</a> </p> <li><p> <a href="https://juliadata.github.io/DataFrames.jl/stable/man/getting_started.html" target=_blank >DataFrames.jl</a> </p> <li><p> <a href="https://en.wikibooks.org/wiki/Introducing_Julia/DataFrames" target=_blank >Introducing Julia Wikibook: DataFrames</a> </p> <li><p> <a href="https://jcharistech.wordpress.com/julia-dataframes-cheat-sheets/" target=_blank >Julia DataFrames Cheat Sheets</a> </p> </ul> <h2 id=theory ><a href="#theory">Theory</a></h2> <h2 id=practice ><a href="#practice">Practice</a></h2> <p><strong>Install and Load DataFrames.jl Package</strong></p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Pkg

<span class=hljs-comment ># Add DataFrames package</span>
Pkg.add(<span class=hljs-string >&quot;DataFrames&quot;</span>)

<span class=hljs-comment ># Load paackages</span>
<span class=hljs-keyword >using</span> DataFrames</code></pre> <p><strong>Create Dataframe</strong></p> <pre><code class="julia hljs"><span class=hljs-comment ># Create dataframe</span>
df = DataFrame(id = <span class=hljs-number >1</span>:<span class=hljs-number >5</span>, gender = [<span class=hljs-string >&quot;F&quot;</span>, <span class=hljs-string >&quot;M&quot;</span>, <span class=hljs-string >&quot;F&quot;</span>, <span class=hljs-string >&quot;M&quot;</span>, <span class=hljs-string >&quot;F&quot;</span>], age = [<span class=hljs-number >68</span>, <span class=hljs-number >54</span>, <span class=hljs-number >49</span>, <span class=hljs-number >28</span>, <span class=hljs-number >36</span>])</code></pre> <p><strong>Display Dataframe</strong></p> <p>Input:</p> <pre><code class="julia hljs"><span class=hljs-comment ># display dataframe</span>
println(df)</code></pre> <p>Output: <pre><code class="plaintext hljs">5×3 DataFrame
│ Row │ id    │ gender │ age   │
│     │ Int64 │ String │ Int64 │
├─────┼───────┼────────┼───────┤
│ 1   │ 1     │ F      │ 68    │
│ 2   │ 2     │ M      │ 54    │
│ 3   │ 3     │ F      │ 49    │
│ 4   │ 4     │ M      │ 28    │
│ 5   │ 5     │ F      │ 36    │
</code></pre> <p>First two lines of dataframe: Input:</p> <pre><code class="julia hljs">println(first(df, <span class=hljs-number >2</span>))</code></pre> Output:</p>
<pre><code class="plaintext hljs">2×3 DataFrame
│ Row │ id    │ gender │ age   │
│     │ Int64 │ String │ Int64 │
├─────┼───────┼────────┼───────┤
│ 1   │ 1     │ F      │ 68    │
│ 2   │ 2     │ M      │ 54    │
</code></pre>
<p>Last two lines of dataframe:</p>
<p>Input:</p>
<pre><code class="julia hljs">println(last(df, <span class=hljs-number >2</span>))</code></pre> Output:</p>
<pre><code class="plaintext hljs">2×3 DataFrame
│ Row │ id    │ gender │ age   │
│     │ Int64 │ String │ Int64 │
├─────┼───────┼────────┼───────┤
│ 1   │ 4     │ M      │ 28    │
│ 2   │ 5     │ F      │ 36    │
</code></pre>
<p><strong>Describe Dataframe</strong></p>
<p>Dataframe size:</p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># dataframe size</span>
println(size(df))</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">(5, 3)
</code></pre>
<p>Dataframe column names:</p>
<p>Input:</p>
<pre><code class="julia hljs"><span class=hljs-comment ># dataframe column names</span>
println(names(df))</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">[&quot;id&quot;, &quot;gender&quot;, &quot;age&quot;]
</code></pre>
<p>Dataframe description:</p>
<p>Input:</p>
<pre><code class="julia hljs"><span class=hljs-comment ># describe dataframe</span>
println(describe(df))</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">3×8 DataFrame
│ Row │ variable │ mean   │ min │ median │ max │ nunique │ nmissing │ eltype   │
│     │ Symbol   │ Union… │ Any │ Union… │ Any │ Union…  │ Nothing  │ DataType │
├─────┼──────────┼────────┼─────┼────────┼─────┼─────────┼──────────┼──────────┤
│ 1   │ id       │ 3.0    │ 1   │ 3.0    │ 5   │         │          │ Int64    │
│ 2   │ gender   │        │ F   │        │ M   │ 2       │          │ String   │
│ 3   │ age      │ 47.0   │ 28  │ 49.0   │ 68  │         │          │ Int64    │
</code></pre>
<p><strong>Accessing DataFrames</strong></p>
<p><strong><em>Get &quot;age&quot; column &#40;different ways to call the column&#41;</em></strong></p>
<p>Input:</p>
<pre><code class="julia hljs"><span class=hljs-comment ># call by column name</span>
println(df[!, :age])

<span class=hljs-comment ># get column by column number</span>
println(df[!, <span class=hljs-number >3</span>])

<span class=hljs-comment ># alternate syntax</span>
println(df.age)</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">[68, 54, 49, 28, 36]
[68, 54, 49, 28, 36]
[68, 54, 49, 28, 36]
</code></pre>
<p><strong><em>Get row</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># print row 2</span>
println(df[<span class=hljs-number >2</span>, :])</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">DataFrameRow
│ Row │ id    │ gender │ age   │
│     │ Int64 │ String │ Int64 │
├─────┼───────┼────────┼───────┤
│ 2   │ 2     │ M      │ 54    │
</code></pre>
<p><strong><em>Get element</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># get element in row 2, column 3</span>
println(df[<span class=hljs-number >2</span>,<span class=hljs-number >3</span>])</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">54
</code></pre>
<p><strong><em>Get subset &#40;specific rows and all columns&#41;</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># print out rows 1, 3, &amp; 5</span>
println(df[[<span class=hljs-number >1</span>,<span class=hljs-number >3</span>,<span class=hljs-number >5</span>], :])</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">3×3 DataFrame
│ Row │ id    │ gender │ age   │
│     │ Int64 │ String │ Int64 │
├─────┼───────┼────────┼───────┤
│ 1   │ 1     │ F      │ 68    │
│ 2   │ 3     │ F      │ 49    │
│ 3   │ 5     │ F      │ 36    │
</code></pre>
<p><strong><em>Get subset &#40;all rows and specific columns&#41;</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># print out all rows and only columns 1 (id) and 3 (age)</span>
println(<span class=hljs-string >&quot;Using column names:\n&quot;</span>)
println(df[:, [:id, :age]])
println()

println(<span class=hljs-string >&quot;Using column numbers:\n&quot;</span>)
println(df[:, [<span class=hljs-number >1</span>,<span class=hljs-number >3</span>]])</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">Using column names:

5×2 DataFrame
│ Row │ id    │ age   │
│     │ Int64 │ Int64 │
├─────┼───────┼───────┤
│ 1   │ 1     │ 68    │
│ 2   │ 2     │ 54    │
│ 3   │ 3     │ 49    │
│ 4   │ 4     │ 28    │
│ 5   │ 5     │ 36    │

Using column numbers:

5×2 DataFrame
│ Row │ id    │ age   │
│     │ Int64 │ Int64 │
├─────┼───────┼───────┤
│ 1   │ 1     │ 68    │
│ 2   │ 2     │ 54    │
│ 3   │ 3     │ 49    │
│ 4   │ 4     │ 28    │
│ 5   │ 5     │ 36    │
</code></pre>
<p><strong><em>Get subset &#40;all rows meeting specified criteria - numbers&#41;</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># print out all rows where age is greater than 50</span>
println(df[df.age .&gt; <span class=hljs-number >50</span>, :])</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">2×3 DataFrame
│ Row │ id    │ gender │ age   │
│     │ Int64 │ String │ Int64 │
├─────┼───────┼────────┼───────┤
│ 1   │ 1     │ F      │ 68    │
│ 2   │ 2     │ M      │ 54    │
</code></pre>
<p><strong><em>Get subset &#40;all rows meeting specified criteria - strings&#41;</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># print out all rows where gender is female (&quot;F&quot;)</span>
println(df[df.gender .== <span class=hljs-string >&quot;F&quot;</span>, :])</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">3×3 DataFrame
│ Row │ id    │ gender │ age   │
│     │ Int64 │ String │ Int64 │
├─────┼───────┼────────┼───────┤
│ 1   │ 1     │ F      │ 68    │
│ 2   │ 3     │ F      │ 49    │
│ 3   │ 5     │ F      │ 36    │
</code></pre>
<p><strong><em>Get subset &#40;all rows meeting specified criteria&#41;</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># print out all rows where gender is female (&quot;F&quot;) and age is between 25-50</span>
println(df[(df.gender .== <span class=hljs-string >&quot;F&quot;</span>) .&amp; (<span class=hljs-number >25</span> .&lt; df.age .&lt; <span class=hljs-number >50</span>), :])</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">2×3 DataFrame
│ Row │ id    │ gender │ age   │
│     │ Int64 │ String │ Int64 │
├─────┼───────┼────────┼───────┤
│ 1   │ 3     │ F      │ 49    │
│ 2   │ 5     │ F      │ 36    │
</code></pre>
<p><strong>Add Column</strong></p>
<p><strong><em>New columns with specified values</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># add a column for weight</span>
df.weight = [<span class=hljs-number >100</span>, <span class=hljs-number >120</span>, <span class=hljs-number >150</span>, <span class=hljs-number >175</span>, <span class=hljs-number >300</span>]

<span class=hljs-comment ># add a column for height</span>
df.height = [<span class=hljs-number >62</span>, <span class=hljs-number >60</span>, <span class=hljs-number >61</span>, <span class=hljs-number >63</span>, <span class=hljs-number >64</span>]

println(df)
println()

println(<span class=hljs-string >&quot;Describe dataframe to see column names and summary:\n&quot;</span>)
println(describe(df))</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">5×5 DataFrame
│ Row │ id    │ gender │ age   │ weight │ height │
│     │ Int64 │ String │ Int64 │ Int64  │ Int64  │
├─────┼───────┼────────┼───────┼────────┼────────┤
│ 1   │ 1     │ F      │ 68    │ 100    │ 62     │
│ 2   │ 2     │ M      │ 54    │ 120    │ 60     │
│ 3   │ 3     │ F      │ 49    │ 150    │ 61     │
│ 4   │ 4     │ M      │ 28    │ 175    │ 63     │
│ 5   │ 5     │ F      │ 36    │ 300    │ 64     │

Describe dataframe to see column names and summary:

5×8 DataFrame
│ Row │ variable │ mean   │ min │ median │ max │ nunique │ nmissing │ eltype   │
│     │ Symbol   │ Union… │ Any │ Union… │ Any │ Union…  │ Nothing  │ DataType │
├─────┼──────────┼────────┼─────┼────────┼─────┼─────────┼──────────┼──────────┤
│ 1   │ id       │ 3.0    │ 1   │ 3.0    │ 5   │         │          │ Int64    │
│ 2   │ gender   │        │ F   │        │ M   │ 2       │          │ String   │
│ 3   │ age      │ 47.0   │ 28  │ 49.0   │ 68  │         │          │ Int64    │
│ 4   │ weight   │ 169.0  │ 100 │ 150.0  │ 300 │         │          │ Int64    │
│ 5   │ height   │ 62.0   │ 60  │ 62.0   │ 64  │         │          │ Int64    │
</code></pre>
<p><strong><em>New column with calculated value</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># add a column with calculated BMI</span>
df.bmi = map((x,y) -&gt; (x/y^<span class=hljs-number >2</span>)*<span class=hljs-number >703</span>, df.weight, df.height)

println(df)
println()

println(<span class=hljs-string >&quot;Describe dataframe to see new bmi column and summary:\n&quot;</span>)
println(describe(df))</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">5×6 DataFrame
│ Row │ id    │ gender │ age   │ weight │ height │ bmi     │
│     │ Int64 │ String │ Int64 │ Int64  │ Int64  │ Float64 │
├─────┼───────┼────────┼───────┼────────┼────────┼─────────┤
│ 1   │ 1     │ F      │ 68    │ 100    │ 62     │ 18.2882 │
│ 2   │ 2     │ M      │ 54    │ 120    │ 60     │ 23.4333 │
│ 3   │ 3     │ F      │ 49    │ 150    │ 61     │ 28.3392 │
│ 4   │ 4     │ M      │ 28    │ 175    │ 63     │ 30.9965 │
│ 5   │ 5     │ F      │ 36    │ 300    │ 64     │ 51.4893 │

Describe dataframe to see new bmi column and summary:

6×8 DataFrame
│ Row │ variable │ mean    │ min     │ median  │ max     │ nunique │ nmissing │ eltype   │
│     │ Symbol   │ Union…  │ Any     │ Union…  │ Any     │ Union…  │ Nothing  │ DataType │
├─────┼──────────┼─────────┼─────────┼─────────┼─────────┼─────────┼──────────┼──────────┤
│ 1   │ id       │ 3.0     │ 1       │ 3.0     │ 5       │         │          │ Int64    │
│ 2   │ gender   │         │ F       │         │ M       │ 2       │          │ String   │
│ 3   │ age      │ 47.0    │ 28      │ 49.0    │ 68      │         │          │ Int64    │
│ 4   │ weight   │ 169.0   │ 100     │ 150.0   │ 300     │         │          │ Int64    │
│ 5   │ height   │ 62.0    │ 60      │ 62.0    │ 64      │         │          │ Int64    │
│ 6   │ bmi      │ 30.5093 │ 18.2882 │ 28.3392 │ 51.4893 │         │          │ Float64  │
</code></pre>
<p><strong><em>Get counts/frequency</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># get counts of males and females in the dataframe</span>
println(by(df, :gender, N = :gender =&gt; length))</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">2×2 DataFrame
│ Row │ gender │ N     │
│     │ String │ Int64 │
├─────┼────────┼───────┤
│ 1   │ F      │ 3     │
│ 2   │ M      │ 2     │
</code></pre>
<p><strong>Transform DataFrame</strong></p>
<p><strong><em>sort</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># sort the dataframe by gender and then age in reverse order for age (oldest to youngest)</span>
println(sort(df, [:gender, :age], rev=(<span class=hljs-literal >false</span>, <span class=hljs-literal >true</span>)))</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">5×6 DataFrame
│ Row │ id    │ gender │ age   │ weight │ height │ bmi     │
│     │ Int64 │ String │ Int64 │ Int64  │ Int64  │ Float64 │
├─────┼───────┼────────┼───────┼────────┼────────┼─────────┤
│ 1   │ 1     │ F      │ 68    │ 100    │ 62     │ 18.2882 │
│ 2   │ 3     │ F      │ 49    │ 150    │ 61     │ 28.3392 │
│ 3   │ 5     │ F      │ 36    │ 300    │ 64     │ 51.4893 │
│ 4   │ 2     │ M      │ 54    │ 120    │ 60     │ 23.4333 │
│ 5   │ 4     │ M      │ 28    │ 175    │ 63     │ 30.9965 │
</code></pre>
<p><strong><em>stack &#40;reshape from wide to long format&#41;</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># Reshape from wide to long format (disclude id to see which column and value matches which patient id)</span>
long_df = stack(df, Not(:id))
println(long_df)</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">25×3 DataFrame
│ Row │ id    │ variable │ value   │
│     │ Int64 │ Cat…     │ Any     │
├─────┼───────┼──────────┼─────────┤
│ 1   │ 1     │ gender   │ F       │
│ 2   │ 2     │ gender   │ M       │
│ 3   │ 3     │ gender   │ F       │
│ 4   │ 4     │ gender   │ M       │
│ 5   │ 5     │ gender   │ F       │
│ 6   │ 1     │ age      │ 68      │
│ 7   │ 2     │ age      │ 54      │
│ 8   │ 3     │ age      │ 49      │
│ 9   │ 4     │ age      │ 28      │
│ 10  │ 5     │ age      │ 36      │
│ 11  │ 1     │ weight   │ 100     │
│ 12  │ 2     │ weight   │ 120     │
│ 13  │ 3     │ weight   │ 150     │
│ 14  │ 4     │ weight   │ 175     │
│ 15  │ 5     │ weight   │ 300     │
│ 16  │ 1     │ height   │ 62      │
│ 17  │ 2     │ height   │ 60      │
│ 18  │ 3     │ height   │ 61      │
│ 19  │ 4     │ height   │ 63      │
│ 20  │ 5     │ height   │ 64      │
│ 21  │ 1     │ bmi      │ 18.2882 │
│ 22  │ 2     │ bmi      │ 23.4333 │
│ 23  │ 3     │ bmi      │ 28.3392 │
│ 24  │ 4     │ bmi      │ 30.9965 │
│ 25  │ 5     │ bmi      │ 51.4893 │
</code></pre>
<p><strong><em>unstack &#40;reshape from long to wide format&#41;</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment >#unstack dataframe to get back to wide format based off &quot;id&quot; (unstack(df, :id, :variable, :value))</span>
wide_df = unstack(long_df, :id, :variable, :value)
println(wide_df)</code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">5×6 DataFrame
│ Row │ id    │ gender │ age │ weight │ height │ bmi     │
│     │ Int64 │ Any    │ Any │ Any    │ Any    │ Any     │
├─────┼───────┼────────┼─────┼────────┼────────┼─────────┤
│ 1   │ 1     │ F      │ 68  │ 100    │ 62     │ 18.2882 │
│ 2   │ 2     │ M      │ 54  │ 120    │ 60     │ 23.4333 │
│ 3   │ 3     │ F      │ 49  │ 150    │ 61     │ 28.3392 │
│ 4   │ 4     │ M      │ 28  │ 175    │ 63     │ 30.9965 │
│ 5   │ 5     │ F      │ 36  │ 300    │ 64     │ 51.4893 │
</code></pre>
<p><strong>Traversing DataFrame &#40;for loops&#41;</strong></p>
<p><strong><em>sort</em></strong></p>
<p>Input: </p>
<pre><code class="julia hljs"><span class=hljs-comment ># size of dataframe = size(df)</span>
<span class=hljs-comment ># set number of rows to nrows and number of columns to ncols</span>
println(<span class=hljs-string >&quot;(nrows, ncols) = <span class=hljs-subst >$(size(df)</span>)&quot;</span>)
nrows, ncols = size(df)

<span class=hljs-comment ># use nested for loop to get information from dataframe by row and column</span>
<span class=hljs-keyword >for</span> row <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:nrows
  <span class=hljs-keyword >for</span> col <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:ncols
	println(<span class=hljs-string >&quot;value for row <span class=hljs-variable >$row</span> and col <span class=hljs-variable >$col</span> is <span class=hljs-subst >$(df[row,col])</span>&quot;</span>)
  <span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span></code></pre>
<p>Output:</p>
<pre><code class="plaintext hljs">(nrows, ncols) = (5, 6)
value for row 1 and col 1 is 1
value for row 1 and col 2 is F
value for row 1 and col 3 is 68
value for row 1 and col 4 is 100
value for row 1 and col 5 is 62
value for row 1 and col 6 is 18.28824141519251
value for row 2 and col 1 is 2
value for row 2 and col 2 is M
value for row 2 and col 3 is 54
value for row 2 and col 4 is 120
value for row 2 and col 5 is 60
value for row 2 and col 6 is 23.433333333333334
value for row 3 and col 1 is 3
value for row 3 and col 2 is F
value for row 3 and col 3 is 49
value for row 3 and col 4 is 150
value for row 3 and col 5 is 61
value for row 3 and col 6 is 28.339156140822357
value for row 4 and col 1 is 4
value for row 4 and col 2 is M
value for row 4 and col 3 is 28
value for row 4 and col 4 is 175
value for row 4 and col 5 is 63
value for row 4 and col 6 is 30.99647266313933
value for row 5 and col 1 is 5
value for row 5 and col 2 is F
value for row 5 and col 3 is 36
value for row 5 and col 4 is 300
value for row 5 and col 5 is 64
value for row 5 and col 6 is 51.4892578125
</code></pre><div class=page-foot >
  <div class=copyright >
    <small>
      &copy; <a href="https://github.com/bcbi">Brown Center for Biomedical Informatics (BCBI) at Brown University</a>. Last updated: July 20, 2020. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>. Powered by the <a href="https://julialang.org">Julia programming language</a>.
    </small>
  </div>
</div>
</div>
    </div> 
    </div> <!-- end of class page-wrap-->
    
    
      


    
  



<script>
$(window).scroll(function() {
  var scrollTop = $(window).scrollTop();
  if (scrollTop <= 80)
      $('.sidenav').css('top', 80 - scrollTop);
  else
      $('.sidenav').css('top', 0);
});
</script>