<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/bidss/libs/highlight/github.min.css"> <link rel=stylesheet  href="/bidss/css/jtd.css"> <link rel=icon  href="/bidss/assets/favicon.ico"> <title>File Input/Output</title> <div class=page-wrap > <div class=side-bar > <div class=header > <a href="" class=title > <img src="/bidss/assets/bidss_logo.png" alt = "BIDSS" width = "125"> </a> </div> <label for=show-menu  class=show-menu >MENU</label> <input type=checkbox  id=show-menu  role=button > <div class=menu  id=side-menu > <ul class=menu-list > <li class="menu-list-item "><a href="/bidss/" class="menu-list-link ">Home</a> <li class="menu-list-item "><a href="/bidss/setup/" class="menu-list-link ">Setup</a> <!--<ul class="menu-list-child-list ">--> <li class="menu-list-item "><a href="/bidss/programming/setup/intro" class=menu-list-link >Overview</a> <li class="menu-list-item "><a href="/bidss/programming/setup/wsl" class=menu-list-link >Linux for Windows</a> <li class="menu-list-item "><a href="/bidss/programming/setup/julia" class=menu-list-link >Julia</a <li class="menu-list-item "><a href="/bidss/programming/setup/r" class=menu-list-link >R</a> <li class="menu-list-item "><a href="/bidss/programming/setup/python" class=menu-list-link >Python</a> <li class="menu-list-item "><a href="/bidss/programming/setup/vscode" class=menu-list-link >VS Code</a> <li class="menu-list-item "><a href="/bidss/programming/setup/filezilla" class=menu-list-link >FileZilla</a> <li class="menu-list-item "><a href="#" class=menu-list-link >GitHub</a> <!--</ul>--> <li class="menu-list-item "><a href="/bidss/unix/" class="menu-list-link ">Unix</a> <!--<ul class="menu-list-child-list ">--> <li class="menu-list-item "><a href="#" class=menu-list-link >Getting Started with Unix</a> <li class="menu-list-item "><a href="#" class=menu-list-link >Analyzing the Adult (Census Income) Data Set</a> <li class="menu-list-item "><a href="#" class=menu-list-link >Analyzing the MIMIC-III Demo Data Set</a> <!--</ul>--> <li class="menu-list-item "><a href="/bidss/databases/" class="menu-list-link ">Databases</a> <!--<ul class="menu-list-child-list ">--> <li class="menu-list-item "><a href="#" class=menu-list-link >Getting Started with MySQL</a> <li class="menu-list-item "><a href="#" class=menu-list-link >Querying the EMRbots Database</a> <li class="menu-list-item "><a href="#" class=menu-list-link >Querying the MIMIC-III Demo Database</a> <!--</ul>--> <li class="menu-list-item "><a href="/bidss/computing/" class="menu-list-link ">Computing</a> <!--<ul class="menu-list-child-list ">--> <li class="menu-list-item "><a href="#" class=menu-list-link >Introduction</a> <li class="menu-list-item "><a href="/bidss/programming/computing/numbers/" class=menu-list-link >Numbers and Math</a> <li class="menu-list-item "><a href="/bidss/programming/computing/strings/" class=menu-list-link >Strings, Characters, and Regular Expressions</a> <li class="menu-list-item "><a href="/bidss/programming/computing/control/" class=menu-list-link >Control Flow</a> <li class="menu-list-item "><a href="/bidss/programming/computing/collections/" class=menu-list-link >Collections and Data Structures</a> <li class="menu-list-item "><a href="/bidss/programming/computing/io/" class=menu-list-link >File Input/Output</a> <li class="menu-list-item "><a href="/bidss/programming/computing/repl/" class=menu-list-link >REPL and Packages</a> <li class="menu-list-item "><a href="/bidss/programming/computing/dataframes/" class=menu-list-link >DataFrames</a> <li class="menu-list-item "><a href="/bidss/programming/computing/stats/" class=menu-list-link >Statistics and Machine Learning</a> <li class="menu-list-item "><a href="/bidss/programming/computing/viz/" class=menu-list-link >Plotting and Visualization</a> <!--</ul>--> <li class="menu-list-item "><a href="/bidss/menu1/" class="menu-list-link ">Code blocks</a> <li class="menu-list-item "><a href="/bidss/menu2/" class="menu-list-link ">More goodies</a> <li class="menu-list-item "><a href="/bidss/menu3/" class="menu-list-link ">Tags</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="#" class=menu-list-link >Submenu</a> </ul> </ul> </div> <div class=footer > <img src="/bidss/assets/bcbi_logo.png" alt = "Brown Center for Biomedical Informatics"> <!--This is <em>Just the docs</em>, adapted from the <a href="https://github.com/pmarsceill/just-the-docs" target=_blank >Jekyll theme</a>.--> </div> </div> <div class=main-content-wrap > <div class=main-content > <div class=main-header > <a id=github  href="https://github.com/bcbi">BCBI on GitHub</a> </div> <div class=franklin-content ><h1 id=file_inputoutput ><a href="#file_inputoutput">File Input/Output</a></h1> <div class=franklin-toc ><ol><li><a href="#documentation">Documentation</a><li><a href="#theory_reading_and_writing_files">Theory: Reading and Writing Files</a><li><a href="#practice">Practice</a><ol><li><a href="#a_hrefhttpsarchiveicsuciedumldatasetsadult_target_blank_uci_machine_learning_repository_adult_data_set"> <a href="https://archive.ics.uci.edu/ml/datasets/adult" target=_blank > UCI Machine Learning Repository: Adult Data Set</a> </a><li><a href="#from_bidss_manual_need_to_modify">From BIDSS Manual &#40;Need to Modify&#41;</a></ol></ol></div> <h2 id=documentation ><a href="#documentation">Documentation</a></h2> <ul> <li><p> <a href="https://www.oreilly.com/library/view/julia-10-programming/9781788999090/" target=_blank >Julia 1.0 Programming:</a> Chapter 8 &#40;I/O, Networking, and Parallel Computing&#41;</p> <ul> <li><p> <a href="https://www.oreilly.com/library/view/temporary-access/" target=_blank >Sign in for Brown University access to O'Reilly</a> </p> </ul> <li><p>Introducing Julia Wikibook: <a href="https://en.wikibooks.org/wiki/Introducing_Julia/Working_with_text_files" target=_blank >Working with text files</a> </p> <li><p>Julia Base: <a href="https://docs.julialang.org/en/v1/base/io-network/#Base.readline" target=_blank >I/O and Network</a> </p> </ul> <h2 id=theory_reading_and_writing_files ><a href="#theory_reading_and_writing_files">Theory: Reading and Writing Files</a></h2> <ul> <li><p>Note: Using Julia Base functions only</p> </ul> <h2 id=practice ><a href="#practice">Practice</a></h2> <h3 id=a_hrefhttpsarchiveicsuciedumldatasetsadult_target_blank_uci_machine_learning_repository_adult_data_set ><a href="#a_hrefhttpsarchiveicsuciedumldatasetsadult_target_blank_uci_machine_learning_repository_adult_data_set"> <a href="https://archive.ics.uci.edu/ml/datasets/adult" target=_blank > UCI Machine Learning Repository: Adult Data Set</a> </a></h3> <ul> <li><p>Tabulate and report counts for sex in Adult Data Set</p> </ul> <p><strong><em>Dataset</em></strong> &#40;adult.data&#41;</p> <pre><code class="plaintext hljs">39, State-gov, 77516, Bachelors, 13, Never-married, Adm-clerical, Not-in-family, White, Male, 2174, 0, 40, United-States, &lt;=50K
50, Self-emp-not-inc, 83311, Bachelors, 13, Married-civ-spouse, Exec-managerial, Husband, White, Male, 0, 0, 13, United-States, &lt;=50K
38, Private, 215646, HS-grad, 9, Divorced, Handlers-cleaners, Not-in-family, White, Male, 0, 0, 40, United-States, &lt;=50K
53, Private, 234721, 11th, 7, Married-civ-spouse, Handlers-cleaners, Husband, Black, Male, 0, 0, 40, United-States, &lt;=50K
28, Private, 338409, Bachelors, 13, Married-civ-spouse, Prof-specialty, Wife, Black, Female, 0, 0, 40, Cuba, &lt;=50K</code></pre> <p><strong><em>Input</em></strong> &#40;process_file.jl&#41;</p> <pre><code class="julia hljs"><span class=hljs-comment ># process_file.jl</span>
<span class=hljs-comment ># Tabulate and report counts for sex in Adult Data Set</span>
<span class=hljs-comment ># https://archive.ics.uci.edu/ml/datasets/adult</span>

<span class=hljs-comment ># relative path of file</span>
data_file = open(<span class=hljs-string >&quot;_data/adult/adult.data&quot;</span>, <span class=hljs-string >&quot;r&quot;</span>)

<span class=hljs-comment ># absolute path of file</span>
<span class=hljs-comment ># data_file = open(&quot;/Users/user/data/adult/adult.data&quot;, &quot;r&quot;)</span>

<span class=hljs-comment ># initialize collection (dictionary for tabulating counts)</span>
gender_dict = <span class=hljs-built_in >Dict</span>()

<span class=hljs-comment ># read each line, extract sex, and keep track of counts</span>
<span class=hljs-keyword >for</span> line <span class=hljs-keyword >in</span> readlines(data_file)

  <span class=hljs-comment ># skip empty lines</span>
  <span class=hljs-keyword >if</span> isempty(line)
      <span class=hljs-keyword >continue</span>
   <span class=hljs-keyword >end</span>

  <span class=hljs-comment ># split line into array, based on delimiter (comma and space)</span>
  line_array = split(line, <span class=hljs-string >&quot;, &quot;</span>)

  <span class=hljs-comment ># tabulate the counts for gender</span>
  gender = line_array[<span class=hljs-number >10</span>]
  <span class=hljs-keyword >if</span> haskey(gender_dict, gender)
    gender_dict[gender] += <span class=hljs-number >1</span>
  <span class=hljs-keyword >else</span>
    gender_dict[gender] = <span class=hljs-number >1</span>
  <span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># report total counts</span>
println(<span class=hljs-string >&quot;Sort by key (alphabetical):&quot;</span>)
<span class=hljs-keyword >for</span> gender <span class=hljs-keyword >in</span> keys(gender_dict)
  println(<span class=hljs-string >&quot;  <span class=hljs-variable >$gender</span> = <span class=hljs-subst >$(gender_dict[gender])</span>&quot;</span>)
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># report total counts by key, in reverse order</span>
println(<span class=hljs-string >&quot;Sort by key (reverse alphabetical):&quot;</span>)
<span class=hljs-keyword >for</span> gender <span class=hljs-keyword >in</span> sort(collect(keys(gender_dict)), rev=<span class=hljs-literal >true</span>)
  println(<span class=hljs-string >&quot;  <span class=hljs-variable >$gender</span> = <span class=hljs-subst >$(gender_dict[gender])</span>&quot;</span>)
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># report total counts by value, in reverse order (send output to file)</span>
output_file = open(<span class=hljs-string >&quot;process_file_output.txt&quot;</span>, <span class=hljs-string >&quot;w&quot;</span>)
println(<span class=hljs-string >&quot;Sort by value (reverse numerical):&quot;</span>)
<span class=hljs-keyword >for</span> (count, gender) <span class=hljs-keyword >in</span> sort(collect(zip(values(gender_dict),keys(gender_dict))), rev=<span class=hljs-literal >true</span>)
  println(<span class=hljs-string >&quot;  <span class=hljs-variable >$gender</span> = <span class=hljs-subst >$(gender_dict[gender])</span>&quot;</span>)
  write(output_file, <span class=hljs-string >&quot;<span class=hljs-variable >$gender</span> = <span class=hljs-variable >$count</span>\n&quot;</span>)
<span class=hljs-keyword >end</span></code></pre> <p><strong><em>Output</em></strong></p> <pre><code class="plaintext hljs">Sort by key (alphabetical):
  Female = 10771
  Male = 21790
Sort by key (reverse alphabetical):
  Male = 21790
  Female = 10771
Sort by value (reverse numerical):
  Male = 21790
  Female = 10771
</code></pre> <h3 id=from_bidss_manual_need_to_modify ><a href="#from_bidss_manual_need_to_modify">From BIDSS Manual &#40;Need to Modify&#41;</a></h3> <p><strong><em>Terminal</em></strong></p> <pre><code class="plaintext hljs">$ julia process_file.jl
Sort by key (alphabetical):
  Female = 10771
  Male = 21790
Sort by key (reverse alphabetical):
  Male = 21790
  Female = 10771
Sort by value (reverse numerical):
  Male = 21790
  Female = 10771

$ ls -1
process_file.jl
process_file_output.txt

$ more process_file_output.txt
Male = 21790
Female = 10771</code></pre><div class=page-foot > <div class=copyright > &copy; Center for Biomedical Informatics at Brown University. Last modified: July 11, 2020. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>. </div> </div> </div> </div> </div> </div> <!-- end of class page-wrap-->