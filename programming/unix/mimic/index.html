<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin=anonymous > <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> <script src="/bidss/libs/lunr/lunr.min.js"></script> <script src="/bidss/libs/lunr/lunr_index.js"></script> <script src="/bidss/libs/lunr/lunrclient.min.js"></script> <link rel=stylesheet  href="/bidss/libs/font-awesome/css/font-awesome.min.css"> <link rel=stylesheet  href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin=anonymous > <link rel=stylesheet  href="/bidss/libs/highlight/github.min.css"> <link rel=stylesheet  href="/bidss/css/jtd.css"> <link rel=icon  href="/bidss/assets/favicon.ico"> <title>The MIMIC-III Database Demo</title> <header> <a class=skip_main  href="#main">Skip to main content</a> <nav class="navbar navbar-expand-lg navbar-light nav-main"> <!-- <button class="navbar-toggler custom-toggler" type=button  data-toggle=collapse  data-target="#navbarContents" aria-expanded=false  aria-label="Toggle navigation"> <span class=navbar-toggler-icon ></span> </button> --> <div class=logo-box > <a href="/bidss/"><img class=img-logo  src="/bidss/assets/bidss_logo_white.png" alt = "BIDSS"></a> </div> <div class=nav-middleitems-wrapper > <div class=nav-middleitems-header > <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >Home</span> </a> </div> --> <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >Getting Started</span> </a> </div> --> <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >Documentation</span> </a> </div> --> <!-- <div class=nav-middleitem  style="border-bottom-color: transparent;"> <a class=nav-middleitem-button  target=_blank  rel="noopener noreferrer" href="#"> <span class=nav-middleitem-text >GitHub</span> </a> </div> --> </div> </div> <div class=searchbox-wrapper > <form id=lunrSearchForm  name=lunrSearchForm > <button class="fa fa-search search-icon" aria-hidden=true  formaction="/bidss/search/index.html"></button> <input class=search-input  name=q  placeholder=Search...  type=text > </form> </div> </nav> </header> <div class=page-wrap > <div class=sidenav > <div class=sidenav-wrap > <ul class=menu-list > <li class=menu-list-item ><a href="/bidss/home" class="menu-list-link "><b>Home</b> </a> <li class=menu-list-item ><a href="/bidss/about" class="menu-list-link "><b>About</b> </a> <div class=section-title >Theory</div> <li class="menu-list-item "><a href="/bidss/theory/biomedical_informatics/" class="menu-list-link "><b>1.1</b> Biomedical Informatics</a> <ul class=menu-list > <li class="menu-list-item "><a href="/bidss/theory/health_data/" class="menu-list-link "><b>1.2</b> Health Data</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="/bidss/theory/ehr/" class="menu-list-link "><b>1.2.1</b> Electronic Health Records</a> </ul> </ul> <li class="menu-list-item "><a href="/bidss/theory/software_engineering/" class="menu-list-link "><b>1.3</b> Software Engineering</a> <li class="menu-list-item "><a href="/bidss/theory/research_process/" class="menu-list-link "><b>1.4</b> Research Process</a> <li class="menu-list-item "><a href="/bidss/theory/standards/" class="menu-list-link "><b>1.5</b> Standards</a> <li class="menu-list-item "><a href="/bidss/theory/interoperability/" class="menu-list-link "><b>1.6</b> Interoperability </a> <li class="menu-list-item "><a href="/bidss/theory/information_retrieval/" class="menu-list-link "><b>1.7</b> Information Retrieval</a> <li class="menu-list-item "><a href="/bidss/theory/analytic_pipelines/" class="menu-list-link "><b>1.8</b> Analytic Pipelines</a> <ul class=menu-list > <li class="menu-list-item "><a href="/bidss/theory/ai/" class="menu-list-link "><b>1.9</b> Artificial Intelligence</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="/bidss/theory/ml/" class="menu-list-link "><b>1.9.1</b> Machine Learning</a> <li class="menu-list-item "><a href="/bidss/theory/nlp/" class="menu-list-link "><b>1.9.2</b> Natural Language Processing</a> </ul> </ul> <li class="menu-list-item "><a href="/bidss/theory/cds/" class="menu-list-link "><b>1.10</b> Clinical Decision Support</a> <li class="menu-list-item "><a href="/bidss/theory/lhs/" class="menu-list-link "><b>1.11</b> Learning Health System</a> <div class=section-title >Infrastructure</div> <li class="menu-list-item "><a href="/bidss/infrastructure/setup/intro/" class="menu-list-link "><b>2</b> Setup</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/intro/" class="menu-list-link "><b>2.1</b> Overview</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/oscar/" class="menu-list-link "><b>2.2</b> Oscar</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/github/" class="menu-list-link "><b>2.3</b> GitHub</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/github_oscar/" class="menu-list-link "><b>2.3.1</b> GitHub in Oscar</a> </ul> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/wsl/" class="menu-list-link "><b>2.3</b> Linux for Windows</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/julia/" class="menu-list-link "><b>2.4</b> Julia</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/r/" class="menu-list-link "><b>2.5</b> R</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/vscode/" class="menu-list-link "><b>2.6</b> VS Code</a> <li class=menu-list-item ><a href="/bidss/infrastructure/setup/filezilla/" class="menu-list-link "><b>2.7</b> FileZilla</a> </ul> <li class="menu-list-item "><a href="/bidss/infrastructure/data/datasets/" class="menu-list-link "><b>3</b> Data</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/infrastructure/data/datasets/" class="menu-list-link "><b>3.1</b> Getting Started with Databases</a> </ul> <div class=section-title >Programming</div> <li class="menu-list-item active"><a href="/bidss/programming/unix/intro/" class="menu-list-link active"><b>4</b> Unix</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/unix/intro/" class="menu-list-link "><b>4.1</b> Getting Started with Unix</a> <li class=menu-list-item ><a href="/bidss/programming/unix/census/" class="menu-list-link "><b>4.2</b> Analyzing the Adult (Census Income) Data Set</a> <li class=menu-list-item ><a href="/bidss/programming/unix/mimic/" class="menu-list-link active"><b>4.3</b> Analyzing the MIMIC-III Demo Data Set</a> </ul> <li class="menu-list-item "><a href="/bidss/programming/sql/intro/" class="menu-list-link "><b>5</b> SQL</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/sql/intro/" class="menu-list-link "><b>4.1</b> Getting Started with SQL</a> </ul> <li class="menu-list-item "><a href="/bidss/programming/julia/intro/" class="menu-list-link "><b>6</b> Julia</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/julia/intro/" class="menu-list-link "><b>6.1</b> Getting Started with Scientific Computing</a> <li class=menu-list-item ><a href="/bidss/programming/julia/numbers/" class="menu-list-link "><b>6.2</b> Numbers and Math</a> <li class=menu-list-item ><a href="/bidss/programming/julia/strings/" class="menu-list-link "><b>6.3</b> Strings, Characters, and Regular Expressions</a> <li class=menu-list-item ><a href="/bidss/programming/julia/control/" class="menu-list-link "><b>6.4</b> Control Flow</a> <li class=menu-list-item ><a href="/bidss/programming/julia/collections/" class="menu-list-link "><b>6.5</b> Collections and Data Structures</a> <li class=menu-list-item ><a href="/bidss/programming/julia/io/" class="menu-list-link "><b>6.6</b> File Input/Output</a> <li class=menu-list-item ><a href="/bidss/programming/julia/repl/" class="menu-list-link "><b>6.7</b> REPL and Packages</a> <li class=menu-list-item ><a href="/bidss/programming/julia/dataframes/" class="menu-list-link "><b>6.8</b> DataFrames</a> <li class=menu-list-item ><a href="/bidss/programming/julia/stats/" class="menu-list-link "><b>6.9</b> Statistics and Machine Learning</a> <li class=menu-list-item ><a href="/bidss/programming/julia/stats-2/" class="menu-list-link "><b>6.9.1</b> Stats/ML (Extra Resources)</a> <li class=menu-list-item ><a href="/bidss/programming/julia/viz/" class="menu-list-link "><b>6.10</b> Plotting and Visualization</a> <li class=menu-list-item ><a href="/bidss/programming/julia/R/" class="menu-list-link "><b>6.11</b> Intro to R</a> <li class=menu-list-item ><a href="/bidss/programming/julia/python/" class="menu-list-link "><b>6.12</b> Intro to Python</a> </ul> <li class="menu-list-item "><a href="/bidss/programming/python/intro/" class="menu-list-link "><b>7</b> Python</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/python/intro/" class="menu-list-link "><b>7.1</b> Intro to Python</a> </ul> <li class="menu-list-item "><a href="/bidss/programming/r/intro/" class="menu-list-link "><b>8</b> R</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/programming/r/intro/" class="menu-list-link "><b>8.1</b> Intro to R</a> </ul> <div class=section-title >Analytic Pipelines</div> <li class="menu-list-item "><a href="/bidss/analytic_pipelines/intro/" class="menu-list-link "><b>9.1</b> Introduction</a> <li class="menu-list-item "><a href="/bidss/analytic_pipelines/study_1/" class="menu-list-link "><b>9.2</b> Study 1</a> <div class=section-title >Course Outlines</div> <li class="menu-list-item "><a href="/bidss/courses/intro/" class="menu-list-link "><b>10</b> Course Materials</a> <ul class="menu-list-child-list "> <li class=menu-list-item ><a href="/bidss/courses/methods_course" class="menu-list-link "><b>10.1</b> BIOL155/PHP 2561</a> <li class=menu-list-item ><a href="/bidss/courses/biol6535" class="menu-list-link "><b>10.2</b> BIOL 6535</a> <li class=menu-list-item ><a href="/bidss/courses/n3c_course" class="menu-list-link "><b>10.3</b> N3C Short Course</a> <li class=menu-list-item ><a href="/bidss/courses/4day" class="menu-list-link "><b>10.4</b> Four-Day Short Course</a> </ul> </ul> </div> <div class=footer > <a href = "https://www.brown.edu/academics/medical/about-us/research/centers-institutes-and-programs/biomedical-informatics/" target=_blank > <img src="/bidss/assets/bcbi_logo.png" alt = "Brown Center for Biomedical Informatics" class=bcbi-logo > </a> </div> </div> <div class=main > <div class=franklin-content ><h1 id=43_the_mimic-iii_database_demo ><a href="#43_the_mimic-iii_database_demo" class=header-anchor >4.3 The MIMIC-III Database Demo</a></h1> <div class=franklin-toc ><ol><li><a href="#documentation">Documentation</a><li><a href="#analyzing_the_mimic-iii_database_demo">Analyzing the MIMIC-III Database Demo</a><ol><li><a href="#getting_started">Getting Started</a><li><a href="#explore_the_data_files">Explore the Data Files</a></ol><li><a href="#exercises">Exercises</a></ol></div> <h2 id=documentation ><a href="#documentation" class=header-anchor >Documentation</a></h2> <ul> <li><p>MIMIC-III Demo: <a href="https://physionet.org/content/mimiciii-demo/1.4/" target=_blank >Database information and data download</a> </p> </ul> <h2 id=analyzing_the_mimic-iii_database_demo ><a href="#analyzing_the_mimic-iii_database_demo" class=header-anchor >Analyzing the MIMIC-III Database Demo</a></h2> <h3 id=getting_started ><a href="#getting_started" class=header-anchor >Getting Started</a></h3> <ol> <li><p>Download the following files</p> </ol> <ul> <li><p> <a href="https://physionet.org/content/mimiciii-demo/1.4/PATIENTS.csv" target=_blank >Admissions.csv</a> </p> <li><p> <a href="https://physionet.org/content/mimiciii-demo/1.4/ADMISSIONS.csv" target=_blank >Patients.csv</a> </p> <li><p> <a href="https://physionet.org/content/mimiciii-demo/1.4/DIAGNOSES_ICD.csv" target=_blank >Diagnoses_ICD.csv</a> </p> </ul> <ol start=2 > <li><p>Move files to a working directory &#40;see <a href="/bidss/programming/unix/intro">3.1 Getting Started</a> for more detail&#41;</p> <li><p>Open a Unix shell and navigate to that directory &#40;see <a href="/bidss/programming/unix/intro">3.1 Getting Started</a> for more detail&#41;</p> </ol> <h3 id=explore_the_data_files ><a href="#explore_the_data_files" class=header-anchor >Explore the Data Files</a></h3> <p>Confirm that your data files are in your present working directory:</p> <pre><code class="julia hljs">$ ls -<span class=hljs-number >1</span>
ADMISSIONS.csv
DIAGNOSES_ICD.csv
PATIENTS.csv</code></pre> <p>Count number of lines in file &#40;PATIENTS.csv&#41; using wc: </p> <pre><code class="julia hljs">$ wc PATIENTS.csv
     <span class=hljs-number >101</span>     <span class=hljs-number >448</span>    <span class=hljs-number >8605</span> PATIENTS.csv
$ wc -l PATIENTS.csv
     <span class=hljs-number >101</span> PATIENTS.csv</code></pre> <p>Look at contents of a text file &#40;PATIENTS.csv&#41; to fill a screen using more or less: &#40;Use spacebar or up and down arrows to scroll through pages and then press q to quit&#41;</p> <pre><code class="julia hljs">$ more PATIENTS.csv
$ less PATIENTS.csv</code></pre> <p>Look at first and last lines of a text file &#40;PATIENTS.csv&#41; to fill a screen using head or tail:</p> <pre><code class="julia hljs">$ head PATIENTS.csv
$ tail PATIENTS.csv</code></pre> <p>Look at first line and last three lines of a text file &#40;ADMISSIONS.csv&#41; using head or tail:</p> <pre><code class="julia hljs">$ head -n <span class=hljs-number >1</span> ADMISSIONS.csv
row_id,subject_id,gender,dob,dod,dod_hosp,dod_ssn,expire_flag
$ tail -n <span class=hljs-number >3</span> ADMISSIONS.csv
<span class=hljs-number >41087</span>,<span class=hljs-number >44212</span>,<span class=hljs-number >163189</span>,<span class=hljs-number >2123</span>-<span class=hljs-number >11</span>-<span class=hljs-number >24</span> <span class=hljs-number >14</span>:<span class=hljs-number >14</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2123</span>-<span class=hljs-number >12</span>-<span class=hljs-number >30</span> <span class=hljs-number >14</span>:<span class=hljs-number >31</span>:<span class=hljs-number >00</span>,,EMERGENCY,TRANSFER FROM HOSP/EXTRAM,REHAB/DISTINCT PART HOSP,Medicare,ENGL,UNOBTAINABLE,SINGLE,BLACK/AFRICAN AMERICAN,,,ACUTE RESPIRATORY DISTRESS SYNDROME;ACUTE RENAL FAILURE,<span class=hljs-number >0</span>,<span class=hljs-number >1</span>
<span class=hljs-number >41090</span>,<span class=hljs-number >44222</span>,<span class=hljs-number >192189</span>,<span class=hljs-number >2180</span>-<span class=hljs-number >07</span>-<span class=hljs-number >19</span> <span class=hljs-number >06</span>:<span class=hljs-number >55</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2180</span>-<span class=hljs-number >07</span>-<span class=hljs-number >20</span> <span class=hljs-number >13</span>:<span class=hljs-number >00</span>:<span class=hljs-number >00</span>,,EMERGENCY,EMERGENCY ROOM ADMIT,HOME,Medicare,ENGL,CATHOLIC,SINGLE,WHITE,<span class=hljs-number >2180</span>-<span class=hljs-number >07</span>-<span class=hljs-number >19</span> <span class=hljs-number >04</span>:<span class=hljs-number >50</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2180</span>-<span class=hljs-number >07</span>-<span class=hljs-number >19</span> <span class=hljs-number >08</span>:<span class=hljs-number >23</span>:<span class=hljs-number >00</span>,BRADYCARDIA,<span class=hljs-number >0</span>,<span class=hljs-number >1</span>
<span class=hljs-number >41092</span>,<span class=hljs-number >44228</span>,<span class=hljs-number >103379</span>,<span class=hljs-number >2170</span>-<span class=hljs-number >12</span>-<span class=hljs-number >15</span> <span class=hljs-number >03</span>:<span class=hljs-number >14</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2170</span>-<span class=hljs-number >12</span>-<span class=hljs-number >24</span> <span class=hljs-number >18</span>:<span class=hljs-number >00</span>:<span class=hljs-number >00</span>,,EMERGENCY,EMERGENCY ROOM ADMIT,HOME HEALTH CARE,Private,ENGL,NOT SPECIFIED,SINGLE,WHITE,<span class=hljs-number >2170</span>-<span class=hljs-number >12</span>-<span class=hljs-number >15</span> <span class=hljs-number >02</span>:<span class=hljs-number >22</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2170</span>-<span class=hljs-number >12</span>-<span class=hljs-number >15</span> <span class=hljs-number >05</span>:<span class=hljs-number >25</span>:<span class=hljs-number >00</span>,CHOLANGITIS,<span class=hljs-number >0</span>,<span class=hljs-number >1</span></code></pre> <p>Extract a specific field &#40;10&#41; from a delimited file using cut &#40;tab is default delimiter&#41;:</p> <pre><code class="julia hljs">$ cut -f10 -d<span class=hljs-string >&#x27;,&#x27;</span> ADMISSIONS.csv</code></pre>
<p>Extract a specific field &#40;10&#41; from a delimited file using cut &#40;tab is default delimiter&#41; and review output:</p>
<pre><code class="julia hljs">$ cut -f10 -d<span class=hljs-string >&#x27;,&#x27;</span> ADMISSIONS.csv | more
insurance
Medicare
Private
Medicare
...</code></pre>
<p>Another solution to the above using awk:</p>
<pre><code class="julia hljs">$ awk -<span class=hljs-string >F&quot;,&quot;</span> &#x27;{print $<span class=hljs-number >10</span>}&#x27; ADMISSIONS.csv
insurance
Medicare
Private
Medicare
...</code></pre>
<p>Extract a specific field &#40;10&#41; from a delimited file using cut &#40;tab is default delimiter&#41; and review first five rows:</p>
<pre><code class="julia hljs">$ cut -f10 -d<span class=hljs-string >&#x27;,&#x27;</span> ADMISSIONS.csv | head -n <span class=hljs-number >5</span>
insurance
Medicare
Private
Medicare
Medicare</code></pre>
<p>Extract specific fields &#40;2,3,10&#41; from a delimited file using cut &#40;tab is default delimiter&#41; and review output:</p>
<pre><code class="julia hljs">$ cut -f2,<span class=hljs-number >3</span>,<span class=hljs-number >10</span> -d<span class=hljs-string >&#x27;,&#x27;</span> ADMISSIONS.csv
subject_id,hadm_id,insurance
<span class=hljs-number >10006</span>,<span class=hljs-number >142345</span>,Medicare
<span class=hljs-number >10011</span>,<span class=hljs-number >105331</span>,Private
<span class=hljs-number >10013</span>,<span class=hljs-number >165520</span>,Medicare
...</code></pre>
<p>Another solution to the above using awk &#40;also skip header line and separate fields with ‘|’ delimiter&#41;</p>
<pre><code class="julia hljs">$ awk -<span class=hljs-string >F&quot;,&quot;</span> &#x27;NR!=<span class=hljs-number >1</span>{print $<span class=hljs-number >2</span>,$<span class=hljs-number >3</span>,$<span class=hljs-number >10</span>}&#x27; OFS=<span class=hljs-string >&quot;|&quot;</span> ADMISSIONS.csv |more
<span class=hljs-number >10006</span>|<span class=hljs-number >142345</span>|Medicare
<span class=hljs-number >10011</span>|<span class=hljs-number >105331</span>|Private
<span class=hljs-number >10013</span>|<span class=hljs-number >165520</span>|Medicare
...</code></pre>
<p>Combine cut, sort, and uniq to determine how many times each value in field 10 occurs: &#40;Need to sort first, so that uniq will be able to correctly tabulate values; command only remembers most recent row and current total counts&#41;</p>
<pre><code class="julia hljs">$ cut -f10 -d<span class=hljs-string >&#x27;,&#x27;</span> ADMISSIONS.csv | sort | uniq -c
   <span class=hljs-number >1</span> Government
   <span class=hljs-number >6</span> Medicaid
  <span class=hljs-number >98</span> Medicare
  <span class=hljs-number >24</span> Private
   <span class=hljs-number >1</span> insurance</code></pre>
<p>Sort in numerical order:</p>
<pre><code class="julia hljs">$ cut -f10 -d<span class=hljs-string >&#x27;,&#x27;</span> ADMISSIONS.csv | sort | uniq -c | sort -r
  <span class=hljs-number >98</span> Medicare
  <span class=hljs-number >24</span> Private
   <span class=hljs-number >6</span> Medicaid
   <span class=hljs-number >1</span> insurance
   <span class=hljs-number >1</span> Government</code></pre>
<p>Retrieve rows that contain a particular phrase using grep &#40;MacOS/Linux&#41; or select-string &#40;Windows&#41;:</p>
<pre><code class="julia hljs">$ grep <span class=hljs-string >&quot;DIVORCED&quot;</span> ADMISSIONS.csv
<span class=hljs-number >12269</span>,<span class=hljs-number >10017</span>,<span class=hljs-number >199207</span>,<span class=hljs-number >2149</span>-<span class=hljs-number >05</span>-<span class=hljs-number >26</span> <span class=hljs-number >17</span>:<span class=hljs-number >19</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2149</span>-<span class=hljs-number >06</span>-<span class=hljs-number >03</span> <span class=hljs-number >18</span>:<span class=hljs-number >42</span>:<span class=hljs-number >00</span>,,EMERGENCY,EMERGENCY ROOM ADMIT,SNF,Medicare,,CATHOLIC,DIVORCED,WHITE,<span class=hljs-number >2149</span>-<span class=hljs-number >05</span>-<span class=hljs-number >26</span> <span class=hljs-number >12</span>:<span class=hljs-number >08</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2149</span>-<span class=hljs-number >05</span>-<span class=hljs-number >26</span> <span class=hljs-number >19</span>:<span class=hljs-number >45</span>:<span class=hljs-number >00</span>,HUMERAL FRACTURE,<span class=hljs-number >0</span>,<span class=hljs-number >1</span>
<span class=hljs-number >12270</span>,<span class=hljs-number >10019</span>,<span class=hljs-number >177759</span>,<span class=hljs-number >2163</span>-<span class=hljs-number >05</span>-<span class=hljs-number >14</span> <span class=hljs-number >20</span>:<span class=hljs-number >43</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2163</span>-<span class=hljs-number >05</span>-<span class=hljs-number >15</span> <span class=hljs-number >12</span>:<span class=hljs-number >00</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2163</span>-<span class=hljs-number >05</span>-<span class=hljs-number >15</span> <span class=hljs-number >12</span>:<span class=hljs-number >00</span>:<span class=hljs-number >00</span>,EMERGENCY,TRANSFER FROM HOSP/EXTRAM,DEAD/EXPIRED,Medicare,,CATHOLIC,DIVORCED,WHITE,,,ALCOHOLIC HEPATITIS,<span class=hljs-number >1</span>,<span class=hljs-number >1</span>
<span class=hljs-number >12280</span>,<span class=hljs-number >10029</span>,<span class=hljs-number >132349</span>,<span class=hljs-number >2139</span>-<span class=hljs-number >09</span>-<span class=hljs-number >22</span> <span class=hljs-number >10</span>:<span class=hljs-number >58</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2139</span>-<span class=hljs-number >10</span>-<span class=hljs-number >02</span> <span class=hljs-number >14</span>:<span class=hljs-number >29</span>:<span class=hljs-number >00</span>,,EMERGENCY,EMERGENCY ROOM ADMIT,SNF,Medicare,,PROTESTANT QUAKER,DIVORCED,WHITE,<span class=hljs-number >2139</span>-<span class=hljs-number >09</span>-<span class=hljs-number >22</span> <span class=hljs-number >06</span>:<span class=hljs-number >03</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2139</span>-<span class=hljs-number >09</span>-<span class=hljs-number >22</span> <span class=hljs-number >11</span>:<span class=hljs-number >50</span>:<span class=hljs-number >00</span>,SYNCOPE;TELEMETRY,<span class=hljs-number >0</span>,<span class=hljs-number >1</span>
<span class=hljs-number >12363</span>,<span class=hljs-number >10112</span>,<span class=hljs-number >188574</span>,<span class=hljs-number >2148</span>-<span class=hljs-number >01</span>-<span class=hljs-number >13</span> <span class=hljs-number >22</span>:<span class=hljs-number >32</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2148</span>-<span class=hljs-number >01</span>-<span class=hljs-number >19</span> <span class=hljs-number >15</span>:<span class=hljs-number >03</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2148</span>-<span class=hljs-number >01</span>-<span class=hljs-number >19</span> <span class=hljs-number >15</span>:<span class=hljs-number >03</span>:<span class=hljs-number >00</span>,URGENT,TRANSFER FROM HOSP/EXTRAM,DEAD/EXPIRED,Medicare,,PROTESTANT QUAKER,DIVORCED,WHITE,,,VF ARREST ,<span class=hljs-number >1</span>,<span class=hljs-number >1</span>
<span class=hljs-number >39859</span>,<span class=hljs-number >40286</span>,<span class=hljs-number >109698</span>,<span class=hljs-number >2193</span>-<span class=hljs-number >10</span>-<span class=hljs-number >15</span> <span class=hljs-number >07</span>:<span class=hljs-number >15</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2193</span>-<span class=hljs-number >10</span>-<span class=hljs-number >20</span> <span class=hljs-number >13</span>:<span class=hljs-number >18</span>:<span class=hljs-number >00</span>,,ELECTIVE,PHYS REFERRAL/NORMAL DELI,REHAB/DISTINCT PART HOSP,Medicare,ENGL,PROTESTANT QUAKER,DIVORCED,WHITE,,,LEFT HIP OA/SDA,<span class=hljs-number >0</span>,<span class=hljs-number >1</span>
<span class=hljs-number >39929</span>,<span class=hljs-number >40503</span>,<span class=hljs-number >168803</span>,<span class=hljs-number >2186</span>-<span class=hljs-number >07</span>-<span class=hljs-number >06</span> <span class=hljs-number >19</span>:<span class=hljs-number >59</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2186</span>-<span class=hljs-number >07</span>-<span class=hljs-number >07</span> <span class=hljs-number >19</span>:<span class=hljs-number >00</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2186</span>-<span class=hljs-number >07</span>-<span class=hljs-number >07</span> <span class=hljs-number >19</span>:<span class=hljs-number >00</span>:<span class=hljs-number >00</span>,EMERGENCY,TRANSFER FROM HOSP/EXTRAM,DEAD/EXPIRED,Medicare,ENGL,UNOBTAINABLE,DIVORCED,WHITE,,,STEMI;,<span class=hljs-number >1</span>,<span class=hljs-number >1</span></code></pre>
<p>Get the subject identifier &#40;field 2&#41;, admission identifier &#40;field 3&#41;, insurance &#40;field 10&#41; and diagnosis &#40;field 17&#41; for the above:</p>
<pre><code class="julia hljs">$ grep DIVORCED ADMISSIONS.csv | cut -f2,<span class=hljs-number >3</span>,<span class=hljs-number >10</span>,<span class=hljs-number >17</span> -d<span class=hljs-string >&#x27;,&#x27;</span>
<span class=hljs-number >10017</span>,<span class=hljs-number >199207</span>,Medicare,HUMERAL FRACTURE
<span class=hljs-number >10019</span>,<span class=hljs-number >177759</span>,Medicare,ALCOHOLIC HEPATITIS
<span class=hljs-number >10029</span>,<span class=hljs-number >132349</span>,Medicare,SYNCOPE;TELEMETRY
<span class=hljs-number >10112</span>,<span class=hljs-number >188574</span>,Medicare,VF ARREST
<span class=hljs-number >40286</span>,<span class=hljs-number >109698</span>,Medicare,LEFT HIP OA/SDA
<span class=hljs-number >40503</span>,<span class=hljs-number >168803</span>,Medicare,STEMI;</code></pre>
<p>Find admission times from the year 2112:</p>
<pre><code class="julia hljs">$ cut -d<span class=hljs-string >&#x27;,&#x27;</span> -f4 ADMISSIONS.csv | grep <span class=hljs-string >&quot;2112&quot;</span>
<span class=hljs-number >2112</span>-<span class=hljs-number >02</span>-<span class=hljs-number >04</span> <span class=hljs-number >14</span>:<span class=hljs-number >49</span>:<span class=hljs-number >00</span>
<span class=hljs-number >2112</span>-<span class=hljs-number >05</span>-<span class=hljs-number >04</span> <span class=hljs-number >08</span>:<span class=hljs-number >00</span>:<span class=hljs-number >00</span>
<span class=hljs-number >2112</span>-<span class=hljs-number >05</span>-<span class=hljs-number >22</span> <span class=hljs-number >15</span>:<span class=hljs-number >37</span>:<span class=hljs-number >00</span>
<span class=hljs-number >2112</span>-<span class=hljs-number >05</span>-<span class=hljs-number >28</span> <span class=hljs-number >15</span>:<span class=hljs-number >45</span>:<span class=hljs-number >00</span></code></pre>
<p>Add “ADMISSIONS:” to the beginning of each line using sed:</p>
<pre><code class="julia hljs">$ sed &#x27;s/^/ADMISSION:/&#x27; ADMISSIONS.csv
ADMISSION:row_id,subject_id,hadm_id,admittime,dischtime,deathtime,admission_type,admission_location,discharge_location,insurance,language,religion,marital_status,ethnicity,edregtime,edouttime,diagnosis,hospital_expire_flag,has_chartevents_data
ADMISSION:<span class=hljs-number >12258</span>,<span class=hljs-number >10006</span>,<span class=hljs-number >142345</span>,<span class=hljs-number >2164</span>-<span class=hljs-number >10</span>-<span class=hljs-number >23</span> <span class=hljs-number >21</span>:<span class=hljs-number >09</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2164</span>-<span class=hljs-number >11</span>-<span class=hljs-number >01</span> <span class=hljs-number >17</span>:<span class=hljs-number >15</span>:<span class=hljs-number >00</span>,,EMERGENCY,EMERGENCY ROOM ADMIT,HOME HEALTH CARE,Medicare,,CATHOLIC,SEPARATED,BLACK/AFRICAN AMERICAN,<span class=hljs-number >2164</span>-<span class=hljs-number >10</span>-<span class=hljs-number >23</span> <span class=hljs-number >16</span>:<span class=hljs-number >43</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2164</span>-<span class=hljs-number >10</span>-<span class=hljs-number >23</span> <span class=hljs-number >23</span>:<span class=hljs-number >00</span>:<span class=hljs-number >00</span>,SEPSIS,<span class=hljs-number >0</span>,<span class=hljs-number >1</span>
ADMISSION:<span class=hljs-number >12263</span>,<span class=hljs-number >10011</span>,<span class=hljs-number >105331</span>,<span class=hljs-number >2126</span>-<span class=hljs-number >08</span>-<span class=hljs-number >14</span> <span class=hljs-number >22</span>:<span class=hljs-number >32</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2126</span>-<span class=hljs-number >08</span>-<span class=hljs-number >28</span> <span class=hljs-number >18</span>:<span class=hljs-number >59</span>:<span class=hljs-number >00</span>,<span class=hljs-number >2126</span>-<span class=hljs-number >08</span>-<span class=hljs-number >28</span> <span class=hljs-number >18</span>:<span class=hljs-number >59</span>:<span class=hljs-number >00</span>,EMERGENCY,TRANSFER FROM HOSP/EXTRAM,DEAD/EXPIRED,Private,,CATHOLIC,SINGLE,UNKNOWN/NOT SPECIFIED,,,HEPATITIS B,<span class=hljs-number >1</span>,<span class=hljs-number >1</span></code></pre>
<p>Replace “EMERGENCY ROOM” with “ER” and “SNF” with “SKILLED NURSING FACILITY” using sed:</p>
<pre><code class="julia hljs">$ cut -d<span class=hljs-string >&#x27;,&#x27;</span> -f7,<span class=hljs-number >8</span>,<span class=hljs-number >9</span> ADMISSIONS.csv |more
admission_type,admission_location,discharge_location
EMERGENCY,EMERGENCY ROOM ADMIT,HOME HEALTH CARE
EMERGENCY,TRANSFER FROM HOSP/EXTRAM,DEAD/EXPIRED
EMERGENCY,TRANSFER FROM HOSP/EXTRAM,DEAD/EXPIRED
EMERGENCY,EMERGENCY ROOM ADMIT,SNF

$ cut -d<span class=hljs-string >&#x27;,&#x27;</span> -f7,<span class=hljs-number >8</span>,<span class=hljs-number >9</span> ADMISSIONS.csv | sed &#x27;s/EMERGENCY ROOM/ER/g&#x27; | sed &#x27;s/SNF/SKILLED NURSING FACILITY/&#x27;
admission_type,admission_location,discharge_location
EMERGENCY,ER ADMIT,HOME HEALTH CARE
EMERGENCY,TRANSFER FROM HOSP/EXTRAM,DEAD/EXPIRED
EMERGENCY,TRANSFER FROM HOSP/EXTRAM,DEAD/EXPIRED
EMERGENCY,ER ADMIT,SKILLED NURSING FACILITY</code></pre>
<h2 id=exercises ><a href="#exercises" class=header-anchor >Exercises</a></h2>
<ol>
<li><p>Determine number of lines that have the value “ENGL”</p>

</ol>
<pre><code class="julia hljs">$ YOUR COMMAND
      <span class=hljs-number >58</span>     <span class=hljs-number >537</span>   <span class=hljs-number >11802</span></code></pre>
<ol start=2 >
<li><p>Determine number of times each value in the discharge location field occurs</p>

</ol>
<pre><code class="julia hljs">$ YOUR COMMAND
  <span class=hljs-number >40</span> DEAD/EXPIRED
  <span class=hljs-number >39</span> SNF
  <span class=hljs-number >15</span> HOME
  <span class=hljs-number >14</span> HOME HEALTH CARE -
  <span class=hljs-number >13</span> REHAB/DISTINCT PART HOSP
   <span class=hljs-number >3</span> ICF
   <span class=hljs-number >2</span> LONG TERM CARE HOSPITAL
   <span class=hljs-number >1</span> discharge_location
   <span class=hljs-number >1</span> HOSPICE-HOME
   <span class=hljs-number >1</span> HOME WITH HOME IV PROVIDR
   <span class=hljs-number >1</span> DISCH-TRAN TO PSYCH HOSP</code></pre>
<ol start=3 >
<li><p>Determine how many times each year in the admission time field occurs</p>

</ol>
<pre><code class="julia hljs">$ YOUR COMMAND
   <span class=hljs-number >5</span> <span class=hljs-number >2201</span>
   <span class=hljs-number >4</span> <span class=hljs-number >2202</span>
   <span class=hljs-number >3</span> <span class=hljs-number >2200</span>
   <span class=hljs-number >3</span> <span class=hljs-number >2145</span>
   <span class=hljs-number >3</span> <span class=hljs-number >2112</span>
   ...</code></pre>
<div class=page-foot >
  <div class=copyright >
    <small>
      &copy; <a href="https://github.com/bcbi">Brown Center for Biomedical Informatics (BCBI) at Brown University</a>. Last updated: September 21, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>. Powered by the <a href="https://julialang.org">Julia programming language</a>.
    </small>
  </div>
</div>
</div>
    </div> 
    </div> <!-- end of class page-wrap-->
    
    
      


    
  



<script>
$(window).scroll(function() {
  var scrollTop = $(window).scrollTop();
  if (scrollTop <= 80)
      $('.sidenav').css('top', 80 - scrollTop);
  else
      $('.sidenav').css('top', 0);
});
</script>